# 📖 [교수자 가이드] AI 음성 인식 시니어 비서 '실버 캘린더' 개발 실습

본 지침서는 시니어(70세 이상)를 대상으로 하는 AI 솔루션 개발 과정을 다루는 IT 실무 수업을 위해 제작되었습니다. 초보자도 따라 할 수 있도록 **기획부터 실무 환경 설정, 실전 에러 해결**까지 전 과정을 기록했습니다.

---

## 🎓 1. 교육 개요
- **주제**: AI 음성 인식과 클라우드 API를 활용한 시니어 맞춤형 캘린더 개발
- **핵심 철학**: "기술은 복잡하되 사용은 극도로 단순해야 한다." (Senior-First Principle)

---

## 🛠 2. 단계별 상세 개발 로드맵 (Full Process)

### [1차시] 시니어 전용 디자인 시스템 (Senior UX)
- **Base Style**: `globals.css`를 통해 기본 폰트를 22px로 설정하고, 모든 클릭 가능한 요소에 `min-height: 70px`를 부여합니다.
- **오버레이 피드백**: '듣고 있음', '분석 중', '저장 중' 상태를 전체 화면 오버레이로 구현하여 사용자의 불안감을 해소합니다.

### [2차시] 구글 인증 시스템 구축 (Security & Auth)
- **NextAuth 설정**: `src/lib/auth.ts`를 생성하여 API 라우트와 서버 컴포넌트 간 인증 설정을 공유합니다.
- **OAuth Scope**: 캘린더 접근 권한(`calendar.events`)을 포함시켜 실무형 인증 시스템을 구축합니다.

### [3차시] 한국어 음성 인식 엔진 탑재 (STT)
- **Web Speech API**: 브라우저 내장 기능을 활용한 실시간 음성-텍스트 변환 로직을 개발합니다.
- **자동화 로직**: 음성 인식 종료 시 즉시 AI 분석 단계로 넘어가는 사용자 경험(UX)을 구현합니다.

### [4차시] OpenAI 지능형 분석 엔진 (AI Parsing)
- **지능형 변환**: "내일 오후 2시" 같은 일상어를 AI가 현재 날짜를 기준으로 표준 데이터 포맷으로 변환합니다.
- **확인 카드**: AI 분석 결과를 시관화하여 사용자가 최종 확인 후 저장하게 하는 안전장치를 마련합니다.

### [5차시] 구글 캘린더 통합 관리 (Full CRUD)
- **조회(Read)**: `getTodayEvents`를 통해 오늘의 일정을 리스트 형태로 출력합니다.
- **등록(Create)**: AI 분석 결과를 바탕으로 신규 일정을 캘린더에 추가합니다.
- **수정(Update)**: 기존 일정을 선택하여 다시 확인 카드(UI)를 띄우고 내용을 수정(`patch`)합니다.
- **삭제(Delete)**: 쓰레기통 버튼을 통해 불필요한 일정을 캘린더에서 제거합니다.
- **실시간 UI 갱신**: 모든 작업(등록/수정/삭제) 후 목록을 자동으로 새로고침하는 유기적인 상태 관리를 실습합니다.

### [6차시] 클라우드 인프라 구축 및 배포 (DevOps)
- **GitHub & Vercel**: 형상 관리와 자동 배포 파이프라인을 구축합니다.
- **환경 변수 고도화**: 배포 후에도 수정/삭제 기능이 작동하도록 서버 환경 변수를 최종 점검합니다.

---

## ⚙️ 3. [실습 상세] 클라우드 및 배포 환경 설정

프로젝트가 실제로 인터넷에서 동작하기 위해 반드시 수행해야 하는 외부 서비스 설정 과정입니다.

### 1) 구글 클라우드 콘솔 (Google Cloud Console) 설정
구글 로그인 기능과 캘린더 데이터를 사용하기 위한 서비스 허가증(API 키)을 발급받는 과정입니다.

**[1단계] 프로젝트 생성 및 API 활성화**
- **콘솔 접속**: [Google Cloud Console](https://console.cloud.google.com/)에 접속합니다.
- **프로젝트 생성**: 상단 프로젝트 선택창에서 **[새 프로젝트]**를 누르고 이름을 입력합니다.
- **라이브러리 활성화**: 왼쪽 메뉴 'API 및 서비스' > '라이브러리' 클릭하여 **"Google Calendar API"**를 검색 후 **[사용]** 버튼을 클릭합니다.

**[2단계] OAuth 동의 화면 설정**
- **User Type**: `외부` 선택 후 생성합니다.
- **전제 조건**: 앱 이름, 사용자 지원 이메일 등 필수 항목을 입력합니다.
- **범위(Scopes) 추가**: [범위 추가 또는 삭제] 클릭 후 아래 주소를 직접 추가합니다.
  - `https://www.googleapis.com/auth/calendar.events` (캘린더 수정 권한)

**[3단계] 사용자 인증 정보(ID/Secret) 발급**
- **인증 정보 생성**: '사용자 인증 정보 만들기' > 'OAuth 클라이언트 ID' 클릭
- **애플리케이션 유형**: `웹 애플리케이션` 선택
- **승인된 자바스크립트 원본**:
  - `http://localhost:3000` (개발용)
  - `https://silver-calendar.vercel.app` (배포용)
- **승인된 리디렉션 URI**:
  - `http://localhost:3000/api/auth/callback/google`
  - `https://silver-calendar.vercel.app/api/auth/callback/google`

### 2) Vercel 배포 및 환경 변수 설정
**'Environment Variables'** 섹션에 다음 5가지를 각각 입력합니다.

| Key | Value (설명) |
| :--- | :--- |
| **GOOGLE_CLIENT_ID** | 구글 콘솔에서 발급받은 ID |
| **GOOGLE_CLIENT_SECRET** | 구글 콘솔에서 발급받은 비밀번호 |
| **OPENAI_API_KEY** | OpenAI에서 발급받은 `sk-...` 키 |
| **NEXTAUTH_SECRET** | 보안용 임의 문자열 (예: `mysilverkey123`) |
| **NEXTAUTH_URL** | 배포된 실제 사이트 주소 (`https://silver-calendar.vercel.app`) |

---

## 🚨 4. [교수자 필독] 실전 트러블슈팅 가이드 (FAQ)

1.  **URI Mismatch 오류**: 대부분 '승인된 리디렉션 URI'에 오타가 있거나 주소를 추가하지 않아 발생합니다. 
2.  **데이터 동기화 에러**: 수정/삭제 후 목록이 안 바뀐다면 `fetchEvents()` 함수를 작업 완료(`await`) 후에 호출했는지 점검하세요.
3.  **권한(Scope) 문제**: 구글 로그인은 되는데 수정/삭제가 안 된다면, OAuth 동의 화면에서 캘린더 권한 설정을 빠뜨렸을 확률이 높습니다.
4.  **수정 모드 UI**: 수정 시에는 `ParsedSchedule` 객체에 반드시 `eventId`를 포함시켜 서버가 '수정' 명령임을 알게 해야 합니다.

---

## 💡 5. 수업 마무리 토론 주제
- 프로젝트를 통해 느낀 **'기술의 따뜻함'**에 대해 이야기해 보기.
- "말하기-확인-수정-저장"으로 이어지는 시니어 맞춤형 UX가 왜 중요한지 토론하기.

---
Created with ❤️ by ideacube AI / Team SilverTech
